-- скрипты характерных выборок 
-- поиск карточки пользователя
CREATE VIEW USES_CARD
AS SELECT USER_ID, USER_FIRST_NAME, USER_LAST_NAME, USER_STATUS 
FROM USER_CARD

-- поиск карточки отеля
CREATE VIEW HOTEL_CARD
AS SELECT ID_HOTEL, NAME_HOTEL, COUNTRY, LOCALITY 
FROM HOTEL_CATALOG HC, HOTEL_CARD HD
WHERE HC.ID_HOTEL = HD.ID_HOTEL

-- поиск предстоящих поездок с подтвержденным бронированием
CREATE VIEW BOOKING_NAME
AS SELECT C.USER_ID, BOOKING_ID
FROM CONFIRMED_BOOKING C, BOOKING_OPTION B
WHERE C. BOOKING_ID = B. BOOKING_ID 

-- поиск количества просмотренных отелей с последующим бронированием
CREATE VIEW COUNT_TOTAL
AS SELECT V.USER_ID, count(V.ID_HOTEL) VIEWED, B.USER_ID, count(B.ID_HOTEL) BOOKING
FROM VIEWED_OPTIONS V, BOOKING_OPTION B
WHERE V.USER_ID  = B.USER_ID 
GROUP BY V.USER_ID , B.USER_ID 

